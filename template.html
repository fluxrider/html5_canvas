<html>
<head>
<title>Web Page Title</title>
<script type="text/javascript" src="canvas_app.js"></script>
<script type="text/javascript" src="canvas_input.js"></script>
<script>
// ===== App Code Begins Here =====

// init
function appInit() {
	// default settings
	backgroundColor = "white";
	defaultTextFillColor = "white"
	defaultTextStrokeColor = "black";
	// pre-load resources
	testImage = loadImage("test.png");
	testSound = loadSound("test.mp3");
}

// tick
function appTick(g, time) {
	// draw image
	g.drawImage(testImage, 0, 0);

	// draw time and input states
	textY = 0;
	g.drawText("Time: " + time + " Load time was: " + totalLoadTime, 0, textY);
	textY += g.fontLineHeight;
	g.drawText("LEFT KEY " + input.held(LEFT), 0, textY);
	textY += g.fontLineHeight;
	g.drawText("POINTER " + input.held(POINTER) + " " + input.pointerX + " " + input.pointerY, 0, textY);
	textY += g.fontLineHeight;

	// play sound on input
	if(input.typed(LEFT)) testSound.play();
}

// ===== App Code Ends Here =====
</script>
</head>
<body onload="beginMainLoop();" style="margin:0; padding:0">
<div id='appCanvasDiv' style="position:absolute; top:0px; left:0px;"> 
<canvas id="appCanvas" width="512" height="512" style="border:1px solid black;">Error: Your browser doesn't support canvas.</canvas>
</div>
</body>
</html>
